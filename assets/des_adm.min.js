!function(e){"use strict";var s="#shopify-section-",o="type_packery",t=".js_packery",a="type_carousel",i="type_pin_owl",r=".js_carousel",n="type_masonry",l="type_hero_video",p=".js_video",_=e("body").hasClass("template-product"),d="js_lbcl",h=(e(window).width(),e(document)),f=e("body"),g=(e("#alet_css_t4"),window.parent.location.pathname.split("/editor")[0]);e(".cp_cd_js").removeClass("dn"),e("#sett_clt4").remove(),"collection"==t_name&&geckoShopify.RefreshPriceTitle(),h.on("shopify:section:load",function(c){var r=c.detail.sectionId,n=e(s+r);if(e(".cp_cd_js").removeClass("dn"),n.hasClass(a)||n.hasClass(i));else if(n.hasClass(o)){var d=n.find(t);geckoShopify.refresh_packery(d)}else if(n.hasClass("type_isotope")){d=n.find(".js_isotope");geckoShopify.refresh_isotope(d)}else if(n.hasClass("js_faq_ad"))geckoShopify.spAccordion();else if(n.hasClass(l)){if($script("//www.youtube.com/iframe_api","loaded_v_js"),0==(d=n.find(p)).length)return;geckoShopify.refresh_Youtube(d)}else if(n.hasClass("type_instagram")){d=n.find(".js_nt_ist");geckoShopify.refresh_ins(d)}if(n.find(".nt_parallax_true").length>0&&geckoShopify.parallax(),n.hasClass("tp_se_cdt")&&geckoShopify.InitCountdown(),n.hasClass("tp_se_cdt2")&&geckoShopify.InitSeCountdown(),geckoShopify.fullHeightRow(),_)switch(r){case"pr_summary":geckoShopify.ATC_animation("#callBackVariant_ppr .single_add_to_cart_button"),geckoShopify.NtproductPage(),geckoShopify.InitCountdown_pr("#nt_countdow_ppr"),geckoShopify.progressbar("#nt_stock_ppr"),geckoShopify.delivery_order("#delivery_ppr"),geckoShopify.real_time("#counter_ppr"),geckoShopify.flashSold("#sold_ppr"),"undefined"!=typeof addthis&&addthis.layers.refresh();break;case"product-recommendations":geckoShopify.PrRecommendations();break;case"recently_viewed":geckoShopify.recently_viewed();break;case"pr_description":geckoShopify.spAccordion()}switch(r){case"header_7":geckoShopify.mobileNav();break;case"collection_page":d=e("#shopify-section-collection_page .nt_packery");var h=e("#shopify-section-collection_page .js_isotope");d.length>0?geckoShopify.refresh_packery(d):h.length>0&&geckoShopify.refresh_isotope(h);break;case"search_page":d=e("#shopify-section-search_page .js_isotope");geckoShopify.refresh_isotope(d);break;case"newsletter_pp":geckoShopify.NewsletterPopup();break;case"age_verify":geckoShopify.ageVerify();break;case"cookies_law":geckoShopify.cookiesLawPP();break;case"promo_pr_pp":geckoShopify.PromoPrPopup();break;case"re_upsell":e("#mfp_re_upsell").length>0&&(e.magnificPopup.open({items:{src:"#mfp_re_upsell",type:"inline"}}),geckoShopify.refresh_flickity(e("#mfp_re_upsell .nt_slider")),e(".nt_products_holder .pr_animated:not(.done)").addClass("done"));case"sales_popup":geckoShopify.SalesPopup();break;case"sticky_atc":geckoShopify.stickyAddToCart(),geckoShopify.ATC_animation("#shopify-section-sticky_atc .single_add_to_cart_button"),e(".sticky_atc_wrap").addClass("sticky_atc_shown")}}),h.on("shopify:section:unload",function(o){var t=o.detail.sectionId;e(s+t);geckoShopify.fullHeightRow()}),h.on("shopify:section:select",function(c){var n=c.detail.sectionId,_=e(s+n);if(geckoShopify.fullHeightRow(),_.hasClass(a)||_.hasClass(i)){var d=_.find(r);geckoShopify.refresh_flickity(d)}else if(_.hasClass(o)){d=_.find(t);geckoShopify.refresh_packery(d)}else if(_.hasClass("type_isotope")){d=_.find(".js_isotope");geckoShopify.refresh_isotope(d)}else if(_.hasClass(l))d=_.find(p);else _.hasClass("type_popup_video")?geckoShopify.InitPopupVideo():_.hasClass("js_fetpr_se")&&(geckoShopify.ProductSection(n),geckoShopify.refresh_flickity(e(".p-thumb"+n)));switch(n){case"header_banner":geckoShopify.bannerCountdown(),geckoShopify.hTransparent(!0);break;case"mb_nav":case"mb_cat":e(".push_side.push-menu-btn:not(.act_current)").trigger("click"),e('[data-id="#shopify-section-'+n+'_js"]').removeClass("active").trigger("click");break;case"nt_filter":case"nt_filter2":e(window).width()<1025?e('[data-opennt="#shopify-section-'+n+'"]').trigger("click"):e('.pop_default .js_filter,.nt_pop_sidebar [data-opennt="#shopify-section-'+n+'"]').trigger("click"),geckoShopify.RefreshPriceTitle();break;case"sidebar_shop":case"sidebar_shop2":e(window).width()<1025?e('[data-opennt="#shopify-section-sidebar_shop"]').trigger("click"):e(".cat_hidden_true .btn_sidebar").trigger("click"),geckoShopify.RefreshPriceTitle();break;case"nt_custom_color":e("#admclnt").length>0&&e.magnificPopup.open({items:{src:"#admclnt",type:"inline"}});break;case"cart_widget":geckoShopify.cartLazyUp(),e("[data-id='#nt_cart_canvas']").trigger("click"),geckoShopify.cart_tls_ship();break;case"collection_page":geckoShopify.RefreshPriceTitle();break;case"footer_top":geckoShopify.footerCollapse(),geckoShopify.stickyFooter(),0==e(".footer_sticky_true").length&&e("#nt_content").css({marginBottom:0});break;case"newsletter_pp":e(".popup_new_wrap").trigger("open_newsletter");break;case"age_verify":e(".popup_age_wrap").trigger("open_age_pp");break;case"cookies_law":e(".popup_cookies_wrap").trigger("open_cookies_pp");break;case"promo_pr_pp":e(".popup_prpr_wrap").trigger("open_promopr"),setTimeout(function(){geckoShopify.refresh_flickity(e(".popup_prpr_wrap .js_carousel")),geckoShopify.InitCountdown(),geckoShopify.lazyWishUpdate(),f.trigger("refresh_currency")},650);break;case"re_upsell":e("#mfp_re_upsell").length>0&&(e.magnificPopup.open({items:{src:"#mfp_re_upsell",type:"inline"}}),geckoShopify.refresh_flickity(e("#mfp_re_upsell .nt_slider")),e(".nt_products_holder .pr_animated:not(.done)").addClass("done"));case"sales_popup":e(".popup_slpr_wrap").trigger("open_slpr_pp");break;case"sticky_atc":e(".sticky_atc_wrap").addClass("sticky_atc_shown"),setTimeout(function(){e(".sticky_atc_wrap").addClass("sticky_atc_shown")},500)}}),h.on("shopify:section:deselect",function(o){var t=o.detail.sectionId;switch(e(s+t).hasClass("sp_header_mid")&&e(".sp_header_mid .menu-item").removeClass("menu_item_hover"),geckoShopify.fullHeightRow(),t){case"sidebar_shop":case"nt_custom_color":case"newsletter_pp":case"age_verify":case"promo_pr_pp":case"re_upsell":e.magnificPopup.close();break;case"mb_nav":case"mb_cat":case"cart_widget":e(".mask-overlay").trigger("click");break;case"nt_filter":case"nt_filter2":e(".js_filter.opened").trigger("click"),e.magnificPopup.close();break;case"cookies_law":e("#shopify-section-cookies_law").removeClass("pp_onshow").addClass("pp_onhide");break;case"sales_popup":e(".pp_slpr_close").trigger("click")}}),h.on("shopify:block:select",function(h){var g=h.detail.sectionId,k=h.detail.blockId,u=e(s+g);if(u.hasClass("type_tab"))e(".tab_se_element:not(.lazyload)").addClass("lazyload").one("lazyincluded",function(s){f.trigger("refresh_currency"),geckoShopify.InitCountdown();var o=e(s.target)[0],t=e(o).find(".js_carousel");0!=t.length&&geckoShopify.refresh_flickity(t)}),geckoShopify.catTabs(),e('a[data-bid="'+k+'"]').trigger("click");else if(u.hasClass(a))y.select(u,k),geckoShopify.InitHTMLVideo();else if(u.hasClass(i)){var m=e("#pin_"+k);if(!m.hasClass("pin__wr_js")){var b=m.attr("data-i");m=e("#pin_"+b)}u.find(r).flickity("selectCell",m.index()),u.find(r).flickity("pausePlayer"),setTimeout(function(){e(".pin__type_"+k+" .mfp_js:not(.current_clicked)").trigger("click"),e(".hotspot_"+k+".mfp_js:not(.current_clicked)").trigger("click")},350)}else if(u.hasClass(n));else if(u.hasClass(o)&&u.hasClass(d)){var C=u.find(t);geckoShopify.refresh_packery(C),e(".pin__type_"+k+".pin__opened").trigger("click"),setTimeout(function(){e(".pin__type_"+k+":not(.pin__opened) .pin_tt_js").trigger("click")},350)}else if(u.hasClass(o)){C=u.find(t);geckoShopify.refresh_packery(C)}else if(u.hasClass(l)){C=u.find(p);geckoShopify.refresh_Youtube(C),geckoShopify.InitHTMLVideo()}else if("hcat_nav"==g)e(".lazy_h_cat").html(e("#html_hcat_nav").html()),e(".ha8_cat").addClass("menu_item_hover");else if(u.hasClass("sp_header_mid")){if(e("#bkjs_"+k).length>0)var v=e(".has-children#item_"+e("#bkjs_"+k).attr("data-id"));else v=e(".has-children#item_"+k);e(".sp_header_mid .menu-item").removeClass("menu_item_hover"),v.addClass("menu_item_hover"),v.hasClass("menu_has_offsets")&&geckoShopify.initMegaMenu(v),e(".lazy_menu_mega").one("lazyincluded",function(s){v.hasClass("menu_has_offsets")&&geckoShopify.initMegaMenu(v);var o=e(s.target),t=JSON.parse(o.attr("data-jspackery"));t.originLeft=f.hasClass("rtl_false"),o.packery(t),f.trigger("refresh_currency"),geckoShopify.InitSeCountdown(),o.find(".js_carousel.flickity-enabled").length>0||geckoShopify.refresh_flickity(o.find(".js_carousel"))})}else u.hasClass(d)&&(e(".pin__type_"+k+".pin__opened").trigger("click"),setTimeout(function(){e(".pin__type_"+k+":not(.pin__opened) .pin_tt_js").trigger("click")},350));"footer_top"==g?e(".footer_collapse_true #block_"+k+":not(.footer_opened)>.widget-title").trigger("click"):"mb_nav"==g||"mb_cat"==g||"header_7"==g?e("#item_"+k+":not(.nt_opended)>a .nav_link_icon").trigger("click"):"nt_custom_color"==g?(e("#item_"+k).addClass("selected"),e("#admclnt").length>0&&0==e(".mfp-content #admclnt").length&&e.magnificPopup.open({items:{src:"#admclnt",type:"inline"}})):"pr_description"==g?e(".des_style_2").length>0||e(".des_mb_2").length>0&&e(window).width()<1025?(c,e("#tab_"+k+" .tab-heading").trigger("click")):e('ul.des_style_1>li>a[href="#tab_'+k+'"]').trigger("click"):u.hasClass("type_faq")&&e("#tab_"+k+" .tab-heading").trigger("click"),_&&(geckoShopify.InitCountdown_pr("#nt_countdow_ppr"),geckoShopify.progressbar("#nt_stock_ppr"))}),h.on("shopify:block:deselect",function(c){var r=c.detail.sectionId,l=c.detail.blockId,p=e(s+r);if(p.hasClass(a))y.deselect(p);else if(p.hasClass(i))y.deselect(p),e.magnificPopup.close();else if(p.hasClass(n));else if(p.hasClass(o)){var h=p.find(t);geckoShopify.refresh_packery(h)}else"hcat_nav"==r?e(".ha8_cat").removeClass("menu_item_hover"):p.hasClass("sp_header_mid")?e(".sp_header_mid .menu-item").removeClass("menu_item_hover"):p.hasClass(d)&&e(".pin__type_"+l+".pin__opened").trigger("click");"footer_top"==r?e(".footer_collapse_true #block_"+l+".footer_opened>.widget-title").trigger("click"):"mb_nav"==r||"mb_cat"==r||"header_7"==r?e("#item_"+l+".nt_opended>a .nav_link_icon").trigger("click"):"nt_custom_color"==r?e("#item_"+l).removeClass("selected"):"pr_description"==r?(e(".des_style_2").length>0||e(".des_mb_2").length>0&&e(window).width()<1025)&&e(".active#tab_"+l+" .tab-heading").trigger("click"):p.hasClass("type_faq")&&e(".active#tab_"+l+" .tab-heading").trigger("click"),_&&(geckoShopify.InitCountdown_pr("#nt_countdow_ppr"),geckoShopify.progressbar("#nt_stock_ppr"),geckoShopify.delivery_order("#delivery_ppr"),"undefined"!=typeof addthis&&addthis.layers.refresh())});var y={select:function(s,o){if(e("#nt_"+o).length>0)var t=e("#nt_"+o).index();else t=e("#b_"+o).closest(".slideshow__slide").index();e("#nt_"+o);s.find(r).flickity("select",t),s.find(r).flickity("pausePlayer")},deselect:function(e){e.find(r).flickity("unpausePlayer")}};h.on("click",".put_asset_js",function(s){var o=e(this),t=o.attr("data-key"),a=o.attr("data-sl");o.addClass("loading"),e("#ld_cl_bar").trigger("ld_bar_star"),k.ajax({url:g+"/assets.json",type:"PUT",data:{asset:{key:t,value:e(a).html()}}}).done(function(){console.log("Update Complete"),o.removeClass("loading").addClass("t4_done"),e("#ld_cl_bar").trigger("ld_bar_end"),setTimeout(function(){o.removeClass("t4_done")},1e3)})}),h.on("click",".dcp_cd_btn",function(s){var o=e(this),t=o.siblings(".dcp_cd_ip")[0];t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),o.text("Copied Shortcode")});e(window.parent.document);h.on("click","#enable_tag",function(s){if(e(".t4-import").length>0)f.addClass("open-import");else{var o=e(this);o.addClass("up_loading"),fetch(o.data("href")).then(e=>e.text()).then(e=>{f.append(e).addClass("open-import"),o.removeClass("up_loading")}).catch(e=>{o.removeClass("up_loading"),console.error("Error:",e)})}});var k=window.parent.$;k('[data-role="save"]'),e("#t4_style_update_css");if(e(".t4_tools_btns").addClass("on_show"),"true"==ThemeIdT4)e("#purchase_codet4").remove();else{var u=e("#ipt_codet4"),m=e("#res_codet4"),b=e("#purchase_codet4"),C=b.attr("data-email"),v=u.val();!b.is(":hidden")&&0!=b.length||"demo"==Shopify.theme.role||k.ajax({type:"PUT",url:"/admin/api/2020-04/themes/"+Shopify.theme.id+".json",dataType:"json",data:{theme:{id:Shopify.theme.id,role:"demo"}},success:function(e){top.window.location.reload()}}),e("#btn_codet4").on("click",function(s){s.preventDefault(),s.stopPropagation();var o=e(this),t=u.val();if(t==v)u.hasClass("t4Warning")?(u.removeClass("shaket4code").addClass("t4Warning2"),setTimeout(function(){u.addClass("shaket4code")},100)):u.addClass("t4Warning shaket4code");else{v=t,u.attr("class",""),o.addClass("loading");var a=["4","t","h","e","p","l","i","c","o","/",".",":","n","s"],i={shopify_domain:window.location.hostname,email:C,theme:"kalles",purchase_code:t};fetch(a[2]+a[1]+a[1]+a[4]+a[13]+a[11]+a[9]+a[9]+a[5]+a[6]+a[7]+a[10]+a[1]+a[2]+a[3]+a[0]+a[10]+a[7]+a[8]+a[9]+a[5]+a[6]+a[7]+a[3]+a[12]+a[13]+a[3]+a[9]+a[7]+a[2]+a[3]+a[7]+"k",{headers:{accept:"*/*","cache-control":"no-cache","x-requested-with":"XMLHttpRequest"},body:btoa(encodeURIComponent(JSON.stringify(i))),method:"POST",mode:"cors"}).then(e=>{if(e.ok)return e.json();throw""}).then(e=>{if(1==e.status)m.html("Activation successfully. Thank you for purchasing!").slideDown(250),k.ajax({url:"/admin/api/2020-04/metafields.json",type:"POST",data:{metafield:{namespace:"t4pcc",description:"the4_purchase_code",key:"kalles",value:!0,value_type:"string"}}}).done(function(){b.remove(),o.removeClass("loading")}).fail(function(){o.removeClass("loading")});else if(o.removeClass("loading"),58==e.message.length)m.html("That license key doesn't appear to be valid. Please check your purchase code again!<br> Please email <a class='cg' href='mailto:the4studio.net@gmail.com' target='_blank'><span>the4studio.net@gmail.com</span></a> if you have any question.").slideDown(250);else{var s=e.message.split("active domain `")[1].split("`. ")[0];m.html("That license key has been invalidated, due to being active domain "+s+".<br> Please email <a class='cg' href='mailto:the4studio.net@gmail.com' target='_blank'><span>the4studio.net@gmail.com</span></a> if you have any question.").slideDown(250)}}).catch(e=>{o.removeClass("loading"),console.error(e)})}})}}(jQuery_T4NT),jQuery_T4NT(window).resize(function(){geckoShopify.footerCollapse()});